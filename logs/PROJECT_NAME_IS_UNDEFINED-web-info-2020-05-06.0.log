2020-05-06 16:43:50.893 [main] INFO  com.soft.security.SecurityApplication - Starting SecurityApplication on LAPTOP-GS4QGE3T with PID 688 (D:\ides_projects\moto_parent\moto_security\target\classes started by sucx in D:\ides_projects\moto_parent)
2020-05-06 16:43:50.904 [main] INFO  com.soft.security.SecurityApplication - The following profiles are active: test
2020-05-06 16:43:53.864 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2020-05-06 16:43:53.872 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-05-06 16:43:54.032 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108ms. Found 0 Redis repository interfaces.
2020-05-06 16:43:55.598 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-06 16:43:55.617 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-06 16:43:55.633 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2d70f312' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-06 16:43:55.635 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-06 16:43:55.650 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-06 16:43:55.688 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'redisConfiguration' of type [com.soft.security.config.redis.RedisConfiguration$$EnhancerBySpringCGLIB$$45e8ec2b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-05-06 16:43:57.221 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2020-05-06 16:43:57.263 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2020-05-06 16:43:57.265 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2020-05-06 16:43:57.266 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.33]
2020-05-06 16:43:57.669 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2020-05-06 16:43:57.669 [main] INFO  org.springframework.web.context.ContextLoader - Root WebApplicationContext: initialization completed in 6621 ms
2020-05-06 16:43:58.057 [main] INFO  com.soft.security.filter.ValidateCodeFilter - ValidateCodeProperties(image=ImageCodeProperties(width=100, height=23, length=4, expireIn=60, url=/auth/login))
2020-05-06 16:43:58.166 [main] INFO  o.s.boot.web.servlet.RegistrationBean - Filter webStatFilter was not registered (possibly already registered?)
2020-05-06 16:43:58.169 [main] INFO  o.s.boot.web.servlet.RegistrationBean - Servlet statViewServlet was not registered (possibly already registered?)
2020-05-06 16:44:02.376 [main] INFO  com.soft.security.filter.ValidateCodeFilter - ValidateCodeProperties(image=ImageCodeProperties(width=100, height=23, length=4, expireIn=60, url=/auth/login))
2020-05-06 16:44:02.517 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@131c5bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@988c126, org.springframework.security.web.header.HeaderWriterFilter@4a29a1e6, org.springframework.security.web.authentication.logout.LogoutFilter@2a191f83, com.soft.security.filter.ValidateCodeFilter@323e026d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c8531b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34e53c02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fab0394, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@394331a8, org.springframework.security.web.session.SessionManagementFilter@3a663a45, org.springframework.security.web.access.ExceptionTranslationFilter@5357de0e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c767288]
2020-05-06 16:44:03.064 [main] INFO  o.s.scheduling.concurrent.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2020-05-06 16:44:04.520 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2020-05-06 16:44:04.576 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2020-05-06 16:44:04.582 [main] INFO  com.soft.security.SecurityApplication - Started SecurityApplication in 15.924 seconds (JVM running for 23.085)
2020-05-06 16:46:13.440 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-05-06 16:46:13.440 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2020-05-06 16:46:13.461 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 20 ms
2020-05-06 16:46:13.613 [http-nio-8080-exec-1] INFO  com.soft.security.aop.ControllerAspect - URL : http://localhost:8080/system/code/image
2020-05-06 16:46:13.613 [http-nio-8080-exec-1] INFO  com.soft.security.aop.ControllerAspect - HTTP_METHOD : GET
2020-05-06 16:46:13.613 [http-nio-8080-exec-1] INFO  com.soft.security.aop.ControllerAspect - IP : 0:0:0:0:0:0:0:1
2020-05-06 16:46:13.618 [http-nio-8080-exec-1] INFO  com.soft.security.aop.ControllerAspect - CLASS_METHOD : com.soft.security.controller.ValidateCodeController.createCode
2020-05-06 16:46:13.619 [http-nio-8080-exec-1] INFO  com.soft.security.aop.ControllerAspect - REQUEST_ARGS : [SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@178bf7b1], com.alibaba.druid.support.http.WebStatFilter$StatHttpServletResponseWrapper@62e42b32]
2020-05-06 16:46:14.393 [http-nio-8080-exec-1] INFO  com.soft.security.aop.ControllerAspect - RESPONSE : null
2020-05-06 16:46:30.339 [http-nio-8080-exec-3] INFO  com.soft.security.filter.ValidateCodeFilter - 拦截成功/auth/login
2020-05-06 16:46:34.904 [http-nio-8080-exec-3] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2020-05-06 16:46:34.923 [http-nio-8080-exec-3] INFO  c.s.s.c.s.handler.MyAuthenticationFailureHandler - 登录失败
2020-05-06 16:47:12.909 [http-nio-8080-exec-5] INFO  com.soft.security.filter.ValidateCodeFilter - 拦截成功/auth/login
2020-05-06 16:47:12.910 [http-nio-8080-exec-5] INFO  com.soft.security.filter.ValidateCodeFilter - 验证码不存在
2020-05-06 16:47:12.913 [http-nio-8080-exec-5] INFO  c.s.s.c.s.handler.MyAuthenticationFailureHandler - 登录失败
2020-05-06 16:47:16.854 [http-nio-8080-exec-4] INFO  com.soft.security.aop.ControllerAspect - URL : http://localhost:8080/system/code/image
2020-05-06 16:47:16.854 [http-nio-8080-exec-4] INFO  com.soft.security.aop.ControllerAspect - HTTP_METHOD : GET
2020-05-06 16:47:16.855 [http-nio-8080-exec-4] INFO  com.soft.security.aop.ControllerAspect - IP : 0:0:0:0:0:0:0:1
2020-05-06 16:47:16.855 [http-nio-8080-exec-4] INFO  com.soft.security.aop.ControllerAspect - CLASS_METHOD : com.soft.security.controller.ValidateCodeController.createCode
2020-05-06 16:47:16.855 [http-nio-8080-exec-4] INFO  com.soft.security.aop.ControllerAspect - REQUEST_ARGS : [SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@5a7c4a4], com.alibaba.druid.support.http.WebStatFilter$StatHttpServletResponseWrapper@2ae43665]
2020-05-06 16:47:16.872 [http-nio-8080-exec-4] INFO  com.soft.security.aop.ControllerAspect - RESPONSE : null
2020-05-06 16:47:23.665 [http-nio-8080-exec-6] INFO  com.soft.security.filter.ValidateCodeFilter - 拦截成功/auth/login
2020-05-06 16:47:23.727 [http-nio-8080-exec-6] INFO  c.s.security.config.interceptor.MyBaitsInterceptor - 2020-05-06 16:47:23 :select ID, USER_CODE, USER_NAME, PASSWORD, PHONE, ID_CARD, CREATE_TIME, CREATE_USER, CREATE_IP, UPDATE_TIME, UPDATE_USER, UPDATE_IP, STATUS, REMARK from s_user where user_code = 'admin'
2020-05-06 16:47:24.348 [http-nio-8080-exec-6] INFO  c.s.s.c.s.handler.MyAuthenticationFailureHandler - 登录失败
2020-05-06 16:51:17.852 [http-nio-8080-exec-9] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2020-05-06 16:51:17.880 [http-nio-8080-exec-9] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27ms. Found 0 Redis repository interfaces.
2020-05-06 16:51:18.437 [http-nio-8080-exec-9] INFO  com.soft.security.aop.ControllerAspect - URL : http://localhost:8080/system/code/image
2020-05-06 16:51:18.438 [http-nio-8080-exec-9] INFO  com.soft.security.aop.ControllerAspect - HTTP_METHOD : GET
2020-05-06 16:51:18.438 [http-nio-8080-exec-9] INFO  com.soft.security.aop.ControllerAspect - IP : 0:0:0:0:0:0:0:1
2020-05-06 16:51:18.438 [http-nio-8080-exec-9] INFO  com.soft.security.aop.ControllerAspect - CLASS_METHOD : com.soft.security.controller.ValidateCodeController.createCode
2020-05-06 16:51:18.438 [http-nio-8080-exec-9] INFO  com.soft.security.aop.ControllerAspect - REQUEST_ARGS : [SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@7874d1b9], com.alibaba.druid.support.http.WebStatFilter$StatHttpServletResponseWrapper@751febe]
2020-05-06 16:51:18.455 [http-nio-8080-exec-9] INFO  com.soft.security.aop.ControllerAspect - RESPONSE : null
2020-05-06 16:51:29.771 [http-nio-8080-exec-10] INFO  com.soft.security.filter.ValidateCodeFilter - 拦截成功/auth/login
2020-05-06 16:51:29.792 [http-nio-8080-exec-10] INFO  c.s.security.config.interceptor.MyBaitsInterceptor - 2020-05-06 16:51:29 :select ID, USER_CODE, USER_NAME, PASSWORD, PHONE, ID_CARD, CREATE_TIME, CREATE_USER, CREATE_IP, UPDATE_TIME, UPDATE_USER, UPDATE_IP, STATUS, REMARK from s_user where user_code = 'admin'
2020-05-06 16:51:30.011 [http-nio-8080-exec-10] INFO  c.s.s.c.s.handler.MyAuthenticationSuccessHandler - 登录成功
2020-05-06 16:51:30.060 [http-nio-8080-exec-10] INFO  c.s.security.config.interceptor.MyBaitsInterceptor - 2020-05-06 16:51:30 :SELECT sr.ID, sr.CODE, sr.NAME, sr.CREATE_USER, sr.CREATE_TIME, sr.CREATE_IP, sr.UPDATE_TIME, sr.UPDATE_USER, sr.UPDATE_IP, sr.STATUS, sr.REMARK FROM s_user su INNER JOIN s_user_role sur ON su.id = sur.user_id and su.status = sur.status INNER JOIN s_role sr ON sur.role_id = sr.id and sr.status = sur.status WHERE su.status = '1' AND su.id = '1'
2020-05-06 16:51:30.195 [http-nio-8080-exec-10] INFO  c.s.security.config.interceptor.MyBaitsInterceptor - 2020-05-06 16:51:30 :SELECT sa.ID, sa.CODE, sa.NAME, sa.CREATE_USER, sa.CREATE_TIME, sa.CREATE_IP, sa.UPDATE_TIME, sa.UPDATE_USER, sa.UPDATE_IP, sa.STATUS, sa.REMARK FROM s_user su INNER JOIN s_user_role sur ON su.id = sur.user_id AND su.STATUS = sur.STATUS INNER JOIN s_role sr ON sur.role_id = sr.id AND sr.STATUS = sur.STATUS INNER JOIN s_role_authority sra ON sra.role_id = sr.id AND sr.STATUS = sra.STATUS INNER JOIN s_authority sa ON sa.id = sra.authority_id AND sa.STATUS = sra.STATUS WHERE su.STATUS = '1' AND su.id = '1'
